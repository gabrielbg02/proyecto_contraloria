<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario Contraloría</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> 
    <style>
        body {
            background-color: #083F75;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .form-container {
            background-color: #FFF;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            width: 90%;
            max-width: 600px;
        }
        .form-section {
            display: none;
        }
        .form-section.active {
            display: block;
        }
        .logo {
            display: block;
            margin: 0 auto 1rem auto;
            width: 150px;
        }
        .justify-content-between {
            padding-top: 1rem;
            justify-content: space-between !important;
        }
        .h2, h2 {
            font-size: calc(1rem + .6vw);
        }
        .h3, h3 {
            font-size: calc(.8rem + .6vw);
        }
        .h4, h4 {
            font-size: calc(.6rem + .6vw);
        }
    </style>
</head>
<body>
    <div class="form-container">
        <div class="d-flex align-items-center mb-4">
            <img src="/static/images/logo_contraloria.png" alt="Logo" width="150" class="me-3">
            <h2 class="text-center flex-grow-1">Contraloría Municipal de Chacao</h2>               
        </div>
        <form method="post" action="/data-processing">
            <div id="section1" class="form-section active">
                <h3 class="text-center">Datos Personales</h2>
                <h4 class="text-center"> Jefe o Jefa de la Oficina de Atención al Ciudadano</h3>
                <br>
                <div class="mb-3">
                    <label for="nombre" class="form-label">Nombre y Apellido</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" required>
                </div> 
                <div class="mb-3">
                    <label for="numero_cedula" class="form-label">Número de Cédula </label>
                    <input name="numero_cedula" type="text" class="form-control" id="numero_cedula" required />
                  </div>     
                <div class="mb-3">
                    <label for="cargo" class="form-label">Cargo </label>
                    <input name="cargo" type="text" class="form-control" id="cargo" aria-describedby="inputGroupPrepend2" required/>
                  </div>
                  <!--</div>-->
                  <div class="mb-3">
                    <label for="correo" class="form-label">Correo Electrónico</label>
                    <input type="email" class="form-control" id="correo" name="correo" required>
                </div>         
                  <div class="mb-3">
                    <label for="numero_telefono_jefe" class="form-label">Número de Teléfono </label>
                    <input name="numero_telefono_jefe" type="text" class="form-control" id="numero_telefono_jefe" required />
                  </div>
                  
                  <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-primary" onclick="nextSection(2)">Siguiente</button>
                </div>
            </div>
            <div id="section2" class="form-section">
                <h3 class="text-center">Información Organismo u Ente</h3>
                </br>
                <div class="mb-3">
                    <label for="estado" class="form-label">Estado </label>
                    <select name="estado" class="form-select" id="estado" required>
                      <option selected disabled value="">Seleccione su Estado...</option>
                      <option value="Miranda">Miranda</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="municipio" class="form-label">Municipio </label>
                    <select name="municipio" class="form-select" id="municipio" required>
                      <option selected disabled value="">Seleccione su Municipio...</option>
                      <option value="Chacao">Chacao</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="nombre_organismo" class="form-label">Nombre del Organismo u Ente adscrito donde labora </label>
                    <input name="nombre_organismo" type="text" class="form-control" id="nombre_organismo" required />
                  </div>
                  <div class="mb-3">
                    <label for="instancia" class="form-label">Instancia a la que pertenece </label>
                    <input name="instancia" type="text" class="form-control" id="instancia" required />
                  </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(1)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(3)">Siguiente</button>
                </div>
            </div>
            
            <div id="section3" class="form-section">
                <h3 class="text-center">Información Personal de quien llena el formulario</h3>
                </br>
                <div class="mb-3">
                    <label for="nombre_llenado" class="form-label">Nombre y Apellido</label>
                    <input type="text" class="form-control" id="nombre_llenado" name="nombre_llenado" required>
                </div> 
                <div class="mb-3">
                    <label for="numero_cedula_llenado" class="form-label">Número de Cédula </label>
                    <input name="numero_cedula_llenado" type="text" class="form-control" id="numero_cedula_llenado" required />
                </div>     
                <div class="mb-3">
                    <label for="cargo_llenado" class="form-label">Cargo </label>
                    <input name="cargo_llenado" type="text" class="form-control" id="cargo_llenado" aria-describedby="inputGroupPrepend2" required/>
                </div>
                  <!--</div>-->
                <div class="mb-3">
                    <label for="correo_llenado" class="form-label">Correo Electrónico</label>
                    <input type="email" class="form-control" id="correo_llenado" name="correo_llenado" required>
                </div>         
                <div class="mb-3">
                    <label for="numero_telefono_llenado" class="form-label">Número de Teléfono </label>
                    <input name="numero_telefono_llenado" type="text" class="form-control" id="numero_telefono_llenado" required />
                </div>
                  
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(2)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(4)">Siguiente</button>
                </div>
            </div>



            <div id="section4" class="form-section">
                <h3 class="text-center">Actividades de la Oficina</h3>
                <h4 class="text-center">Mecanismos de Participación Cuidadana</h4>
                </br>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="cantidad_denuncias" class="form-label">Núm. de denuncias recibidas </label>
                        <input name="cantidad_denuncias" type="number" min = "0" class="form-control" id="cantidad_denuncias" required />                    
                    </div> 
                    <div class="col-md-4">
                        <label for="cantidad_reclamos" class="form-label">Núm. de reclamos recibidos </label>
                        <input name="cantidad_reclamos" type="number" min = "0" class="form-control" id="cantidad_reclamos" required />
                    </div>
                    <div class="col-md-4">
                        <label for="cantidad_quejas" class="form-label">Núm. de quejas recibidas </label>
                        <input name="cantidad_quejas" type="number" min = "0" class="form-control" id="cantidad_quejas" required />
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="cantidad_peticiones" class="form-label">Núm. de peticiones recibidas </label>
                        <input name="cantidad_peticiones" type="number" min = "0" class="form-control" id="cantidad_peticiones" required />
                    </div>
                    <div class="col-md-4">
                        <label for="cantidad_sugerencias" class="form-label">Núm. de sugerencias recibidas </label>
                        <input name="cantidad_sugerencias" type="number" min = "0" class="form-control" id="cantidad_sugerencias" required />
                    </div>
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(3)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(5)">Siguiente</button>
                </div>
            </div>
            <div id="section5" class="form-section">
                <h3 class="text-center">Actividades de la Oficina</h3>
                <h4 class="text-center">Mecanismos de Participación Cuidadana</h4>
                </br>
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="cantidad_asesorias" class="form-label">Núm. de asesorias recibidas </label>
                        <input name="cantidad_asesorias" type="number" min = "0" class="form-control" id="cantidad_asesorias" required />
                    </div>
                    <div class="col-md-4">
                        <label for="cantidad_poblacion_masc" class="form-label">Núm. de población adulto masculino </label>
                        <input name="cantidad_poblacion_masc" type="number" min = "0" class="form-control" id="cantidad_poblacion_masc" required />
                      </div>
                    <div class="col-md-4">
                        <label for="cantidad_poblacion_fem" class="form-label">Núm. de población adulta femenina </label>
                        <input name="cantidad_poblacion_fem" type="number" min = "0" class="form-control" id="cantidad_poblacion_fem" required />
                    </div>
                </div>
                
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(4)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(6)">Siguiente</button>
                </div>
            </div>
            <div id="section6" class="form-section">
                <h3 class="text-center">Actividades para la OIPP</h3>
                <br>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="cantidad_talleres_oipp" class="form-label">Cantidad de talleres realizados (OIPP)</label>
                        <input name="cantidad_talleres_oipp" type="number" min = "0" class="form-control" id="cantidad_talleres_oipp" required />
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad_charlas_oipp" class="form-label">Cantidad de charlas realizadas (OIPP)</label>
                        <input name="cantidad_charlas_oipp" type="number" min = "0" class="form-control" id="cantidad_charlas_oipp" required />
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="cantidad_conversatorios_oipp" class="form-label">Cantidad de conversatorios realizados (OIPP)</label>
                        <input name="cantidad_conversatorios_oipp" type="number" min = "0" class="form-control" id="cantidad_conversatorios_oipp" required />
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad_jornadas_oipp" class="form-label">Cantidad de jornadas realizadas (OIPP)</label>
                        <input name="cantidad_jornadas_oipp" type="number" min = "0" class="form-control" id="cantidad_jornadas_oipp" required />
                    </div>
                </div>
                
                <div class="md-4">
                    <label for="cantidad_forochats_oipp" class="form-label">Cantidad de foro-chats/video conferencias realizados (OIPP)</label>
                    <input name="cantidad_forochats_oipp" type="number" min = "0" class="form-control" id="cantidad_forochats_oipp" required />
                </div>
                <div class="md-4">
                    <label for="cantidad_adulto_masculino_atentido_oipp" class="form-label">Cantidad de población adulto masculino atendido (OIPP)</label>
                    <input name="cantidad_adulto_masculino_atentido_oipp" type="number" min = "0" class="form-control" id="cantidad_adulto_masculino_atentido_oipp" required />
                </div>
                <div class="md-4">
                    <label for="cantidad_adulto_femenino_atentida_oipp" class="form-label">Cantidad de población adulta femenina atendida (OIPP)</label>
                    <input name="cantidad_adulto_femenino_atentida_oipp" type="number" min = "0" class="form-control" id="cantidad_adulto_femenino_atentida_oipp" required />
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(5)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(7)">Siguiente</button>
                </div>
                
            </div>
            <div id="section7" class="form-section">
                <h3 class="text-center">Actividades Sistema Educativo</h3>
                <br>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="nombre_escuela_se" class="form-label">Nombre de la Escuela,Liceo o Universidad donde realizó la actividad (S.E.)</label>
                        <textarea name="nombre_escuela_se" type="text" class="form-control" id="nombre_escuela_se" required ></textarea>
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad_actividades_se" class="form-label">Describa cantidad y de que tratarón las actividades relizadas al Sistema Educativo (S.E.)</label>
                        <textarea name="cantidad_actividades_se" type="text" class="form-control" id="cantidad_actividades_se" required ></textarea>
                    </div>    
                </div>                    
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="cantidad_talleres_se" class="form-label">Cantidad de talleres realizados (S.E.)</label>
                        <input name="cantidad_talleres_se" type="number" min = "0" class="form-control" id="cantidad_talleres_se" required />
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad_charlas_se" class="form-label">Cantidad de charlas realizadas (S.E.)</label>
                        <input name="cantidad_charlas_se" type="number" min = "0" class="form-control" id="cantidad_charlas_se" required />
                    </div>
                </div>
                <div class="row mb-3">
                    
                    <div class="col-md-6">
                        <label for="cantidad_conversatorios_se" class="form-label">Cantidad de conversatorios realizados (S.E.)</label>
                        <input name="cantidad_conversatorios_se" type="number" min = "0" class="form-control" id="cantidad_conversatorios_se" required />
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad_jornadas_se" class="form-label">Cantidad de jornadas realizadas (S.E.)</label>
                        <input name="cantidad_jornadas_se" type="number" min = "0" class="form-control" id="cantidad_jornadas_se" required />
                    </div>
                </div>
                
                  
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(6)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(8)">Siguiente</button>
                </div>
            </div>
            <div id="section8" class="form-section">
                <h3 class="text-center">Actividades Sistema Educativo</h3>
                <br>
                <div class="row mb-3">
                    <div class="col-md-12">
                        <label for="cantidad_forochats_se" class="form-label">Cantidad de foro-chats/video conferencias realizados (S.E.)</label>
                        <input name="cantidad_forochats_se" type="number" min = "0" class="form-control" id="cantidad_forochats_se" required />
                    </div>
                    <div class="col-md-12">
                        <label for="cantidad_ninosyadol_masculino_se" class="form-label">Cantidad de niños y adolescentes masculinos atendidos (S.E.)</label>
                        <input name="cantidad_ninosyadol_masculino_se" type="number" min = "0" class="form-control" id="cantidad_ninosyadol_masculino_se" required />
                    </div>
                    <div class="col-md-12">
                        <label for="cantidad_ninasyadol_femenino_se" class="form-label">Cantidad de niñas y adolescentes femeninas atendidas (S.E.)</label>
                        <input name="cantidad_ninasyadol_femenino_se" type="number" min = "0" class="form-control" id="cantidad_ninasyadol_femenino_se" required />
                    </div>
                    </div>
                
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="cantidad_adultos_masculino_atendidos_se" class="form-label">Cantidad de adultos masculinos atendidos (S.E.)</label>
                        <input name="cantidad_adultos_masculino_atendidos_se" type="number" min = "0" class="form-control" id="cantidad_adultos_masculino_atendidos_se" required />
                      </div>
                      <div class="col-md-6">
                        <label for="cantidad_adultos_femenino_atendidos_se" class="form-label">Cantidad de adultas femeninas atendidas (S.E.)</label>
                        <input name="cantidad_adultos_femenino_atendidos_se" type="number" min = "0" class="form-control" id="cantidad_adultos_femenino_atendidos_se" required />
                      </div>
                </div>

                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(7)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(9)">Siguiente</button>
                </div>
            </div>
            <div id="section9" class="form-section">

                <h3 class="text-center">Actividades para la Administración Pública</h3>
                <br>
                <div class="row mb-3">
                    <div class="col-md-12">
                        <label for="nombre_ministerio_ap" class="form-label">Nombre del Ministerio, Empresa, Compañia u Ente a quien le dio la actividad competente a la Administración Pública Nacional (A.P.)</label>
                        <textarea name="nombre_ministerio_ap" type="text" class="form-control" id="nombre_ministerio_ap" required ></textarea>
                    </div>
                    <div class="col-md-12">
                        <label for="cantidad_actividades_ap" class="form-label">Describa cantidad y de que tratarón las actividades realizadas a la Administración Pública (A.P.)</label>
                        <textarea name="cantidad_actividades_ap" type="text" class="form-control" id="cantidad_actividades_ap" required ></textarea>
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-12">
                        <label for="cantidad_talleres_ap" class="form-label">Cantidad de talleres realizados (A.P.)</label>
                        <input name="cantidad_talleres_ap" type="number" min = "0" class="form-control" id="cantidad_talleres_ap" required />
                    </div>
                    <div class="col-md-12">
                        <label for="cantidad_charlas_ap" class="form-label">Cantidad de charlas realizadas (A.P.)</label>
                        <input name="cantidad_charlas_ap" type="number" min = "0" class="form-control" id="cantidad_charlas_ap" required />
                    </div>
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(8)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(10)">Siguiente</button>
                </div>
            </div>
            <div id="section10" class="form-section">
                <h3 class="text-center">Actividades para la Administración Pública</h3>
                <br>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="cantidad_jornadas_ap" class="form-label">Cantidad de jornadas realizadas (A.P.)</label>
                        <input name="cantidad_jornadas_ap" type="number" min = "0" class="form-control" id="cantidad_jornadas_ap" required />
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad_forochats_ap" class="form-label">Cantidad de foro-chats/video conferencias realizados (A.P.)</label>
                        <input name="cantidad_forochats_ap" type="number" min = "0" class="form-control" id="cantidad_forochats_ap" required />
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="cantidad_funcionarios_masculino_ap" class="form-label">Cantidad de servidores públicos masculinos atendidos en la Administración Pública Nacional </label>
                        <input name="cantidad_funcionarios_masculino_ap" type="number" min = "0" class="form-control" id="cantidad_funcionarios_masculino_ap" required />
                    </div>
                    <div class="col-md-6">
                        <label for="cantidad_funcionarios_femenino_ap" class="form-label">Cantidad de servidoras públicas femeninas atendidas en la Administración Pública Nacional </label>
                        <input name="cantidad_funcionarios_femenino_ap" type="number" min = "0" class="form-control" id="cantidad_funcionarios_femenino_ap" required />
                    </div>
                </div>
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(9)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="nextSection(11)">Siguiente</button>
                </div>
            </div>
            <div id="section11" class="form-section">
                <h3 class="text-center">Observaciones</h3>
                <br>
                <textarea name="observaciones" placeholder="Escribe tus observaciones aquí..." style="width: 100%; height: 300px; padding: 10px; font-size: 16px; border: 2px solid #ccc; border-radius: 5px; resize: vertical;"></textarea>  
                <div class="d-flex justify-content-between">
                    <button type="button" class="btn btn-secondary" onclick="nextSection(10)">Anterior</button>
                    <button type="button" class="btn btn-primary" onclick="validarYEnviar()">Enviar</button>
                </div> 
            </div>


        </form>
    </div>
    <script>
        function validarEmail(email) {
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return regex.test(email);
        }
  
        function validarSeccion(sectionNumber) {
            let inputs = document.querySelectorAll(`#section${sectionNumber} input[required], #section${sectionNumber} select[required]`);
            for (let input of inputs) {
                if (!input.value.trim()) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Campos vacíos',
                        text: 'Por favor, complete todos los campos requeridos en esta sección.'
                    });
                    return false; // Indica que la validación falló
                }
                if (input.type === 'email' && !validarEmail(input.value)) {
                    Swal.fire({
                        icon: 'error',
                        title: 'Correo electrónico inválido',
                        text: 'Por favor, ingrese un correo electrónico válido.'
                    });
                    return false; // Indica que la validación falló
                }
            }
            return true; // Indica que la validación fue exitosa
        }
  
        function nextSection(sectionNumber) {
            const currentSection = document.querySelector('.form-section.active');
            const currentSectionNumber = parseInt(currentSection.id.replace('section', ''));
  
            if (sectionNumber > currentSectionNumber) {
                if (!validarSeccion(currentSectionNumber)) {
                    return; // Detiene el cambio de sección si la validación falla
                }
            }
  
            document.querySelectorAll('.form-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(`section${sectionNumber}`).classList.add('active');
        }
  
        function validarYEnviar() {
            const lastSection = document.querySelector('.form-section:last-child');
            const lastSectionNumber = parseInt(lastSection.id.replace('section', ''));
  
            if (!validarSeccion(lastSectionNumber)) {
                return; // Detiene el envío si la validación falla
            }
  
            mostrarSweetAlert(); // Muestra el SweetAlert si la validación es exitosa
        }
      
        function mostrarSweetAlert() {
            Swal.fire({
                title: '¿Estás seguro?',
                text: '¿Deseas enviar la información del formulario?',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Sí, enviar',
                cancelButtonText: 'Cancelar'
            }).then((result) => {
                if (result.isConfirmed) {
                    document.querySelector('form').submit(); // Envía el formulario
                }
            });
        }
    </script>
</body>
</html>